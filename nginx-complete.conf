# Nginx Configuration for LGPOA State Gateway
# Generated automatically - DO NOT EDIT MANUALLY
# Place this file in /etc/nginx/sites-available/lgpoa
# Then create symlink: sudo ln -s /etc/nginx/sites-available/lgpoa /etc/nginx/sites-enabled/
# Test config: sudo nginx -t
# Reload: sudo systemctl reload nginx

# Upstream for the Node.js landing page
upstream nodejs_backend {
    server localhost:5000;
    keepalive 64;
}

# HTTP Server (Port 80)
server {
    listen 80;
    listen [::]:80;
    server_name yourdomain.com www.yourdomain.com;

    # For production with SSL, uncomment this to redirect HTTP to HTTPS:
    # return 301 https://$server_name$request_uri;

    # Client body size (for file uploads)
    client_max_body_size 100M;
    client_body_timeout 300s;
    client_header_timeout 300s;
    send_timeout 300s;

    # Logging
    access_log /var/log/nginx/lgpoa_access.log;
    error_log /var/log/nginx/lgpoa_error.log;

    # Root path - serve the Node.js landing page
    location / {
        proxy_pass http://nodejs_backend;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_cache_bypass $http_upgrade;
        proxy_read_timeout 300s;
        proxy_connect_timeout 300s;
    }

    # API routes - serve from Node.js
    location /api/ {
        proxy_pass http://nodejs_backend;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }

    # State proxy locations

    # Abia State
    location /state/abia/ {
        proxy_pass https://abia.lgpoa.ng/;
        proxy_ssl_server_name on;
        proxy_ssl_verify off;
        proxy_http_version 1.1;
        proxy_set_header Host abia.lgpoa.ng;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Forwarded-Host $host;
        proxy_cookie_domain abia.lgpoa.ng $host;
        proxy_cookie_path / /;
        proxy_redirect https://abia.lgpoa.ng/ /state/abia/;
        proxy_redirect / /state/abia/;
        proxy_read_timeout 300s;
        proxy_connect_timeout 300s;
        proxy_send_timeout 300s;
        
        # Buffer settings for large POST requests
        proxy_buffering off;
        proxy_request_buffering off;
        client_body_buffer_size 128k;
        
        # Handle redirects
        proxy_redirect ~^https://abia\.lgpoa\.ng(/.*)$ /state/abia$1;
    }

    # Adamawa State
    location /state/adamawa/ {
        proxy_pass https://adamawa.lgpoa.ng/;
        proxy_ssl_server_name on;
        proxy_ssl_verify off;
        proxy_http_version 1.1;
        proxy_set_header Host adamawa.lgpoa.ng;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Forwarded-Host $host;
        proxy_cookie_domain adamawa.lgpoa.ng $host;
        proxy_cookie_path / /;
        proxy_redirect https://adamawa.lgpoa.ng/ /state/adamawa/;
        proxy_redirect / /state/adamawa/;
        proxy_read_timeout 300s;
        proxy_connect_timeout 300s;
        proxy_send_timeout 300s;
        
        # Buffer settings for large POST requests
        proxy_buffering off;
        proxy_request_buffering off;
        client_body_buffer_size 128k;
        
        # Handle redirects
        proxy_redirect ~^https://adamawa\.lgpoa\.ng(/.*)$ /state/adamawa$1;
    }

    # Akwa Ibom State
    location /state/akwa-ibom/ {
        proxy_pass https://akwaibom.lgpoa.ng/;
        proxy_ssl_server_name on;
        proxy_ssl_verify off;
        proxy_http_version 1.1;
        proxy_set_header Host akwaibom.lgpoa.ng;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Forwarded-Host $host;
        proxy_cookie_domain akwaibom.lgpoa.ng $host;
        proxy_cookie_path / /;
        proxy_redirect https://akwaibom.lgpoa.ng/ /state/akwa-ibom/;
        proxy_redirect / /state/akwa-ibom/;
        proxy_read_timeout 300s;
        proxy_connect_timeout 300s;
        proxy_send_timeout 300s;
        
        # Buffer settings for large POST requests
        proxy_buffering off;
        proxy_request_buffering off;
        client_body_buffer_size 128k;
        
        # Handle redirects
        proxy_redirect ~^https://akwaibom\.lgpoa\.ng(/.*)$ /state/akwa-ibom$1;
    }

    # Anambra State
    location /state/anambra/ {
        proxy_pass https://anambra.lgpoa.ng/;
        proxy_ssl_server_name on;
        proxy_ssl_verify off;
        proxy_http_version 1.1;
        proxy_set_header Host anambra.lgpoa.ng;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Forwarded-Host $host;
        proxy_cookie_domain anambra.lgpoa.ng $host;
        proxy_cookie_path / /;
        proxy_redirect https://anambra.lgpoa.ng/ /state/anambra/;
        proxy_redirect / /state/anambra/;
        proxy_read_timeout 300s;
        proxy_connect_timeout 300s;
        proxy_send_timeout 300s;
        
        # Buffer settings for large POST requests
        proxy_buffering off;
        proxy_request_buffering off;
        client_body_buffer_size 128k;
        
        # Handle redirects
        proxy_redirect ~^https://anambra\.lgpoa\.ng(/.*)$ /state/anambra$1;
    }

    # Bauchi State
    location /state/bauchi/ {
        proxy_pass https://bauchi.lgpoa.ng/;
        proxy_ssl_server_name on;
        proxy_ssl_verify off;
        proxy_http_version 1.1;
        proxy_set_header Host bauchi.lgpoa.ng;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Forwarded-Host $host;
        proxy_cookie_domain bauchi.lgpoa.ng $host;
        proxy_cookie_path / /;
        proxy_redirect https://bauchi.lgpoa.ng/ /state/bauchi/;
        proxy_redirect / /state/bauchi/;
        proxy_read_timeout 300s;
        proxy_connect_timeout 300s;
        proxy_send_timeout 300s;
        
        # Buffer settings for large POST requests
        proxy_buffering off;
        proxy_request_buffering off;
        client_body_buffer_size 128k;
        
        # Handle redirects
        proxy_redirect ~^https://bauchi\.lgpoa\.ng(/.*)$ /state/bauchi$1;
    }

    # Bayelsa State
    location /state/bayelsa/ {
        proxy_pass https://bayelsa.lgpoa.ng/;
        proxy_ssl_server_name on;
        proxy_ssl_verify off;
        proxy_http_version 1.1;
        proxy_set_header Host bayelsa.lgpoa.ng;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Forwarded-Host $host;
        proxy_cookie_domain bayelsa.lgpoa.ng $host;
        proxy_cookie_path / /;
        proxy_redirect https://bayelsa.lgpoa.ng/ /state/bayelsa/;
        proxy_redirect / /state/bayelsa/;
        proxy_read_timeout 300s;
        proxy_connect_timeout 300s;
        proxy_send_timeout 300s;
        
        # Buffer settings for large POST requests
        proxy_buffering off;
        proxy_request_buffering off;
        client_body_buffer_size 128k;
        
        # Handle redirects
        proxy_redirect ~^https://bayelsa\.lgpoa\.ng(/.*)$ /state/bayelsa$1;
    }

    # Benue State
    location /state/benue/ {
        proxy_pass https://benue.lgpoa.ng/;
        proxy_ssl_server_name on;
        proxy_ssl_verify off;
        proxy_http_version 1.1;
        proxy_set_header Host benue.lgpoa.ng;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Forwarded-Host $host;
        proxy_cookie_domain benue.lgpoa.ng $host;
        proxy_cookie_path / /;
        proxy_redirect https://benue.lgpoa.ng/ /state/benue/;
        proxy_redirect / /state/benue/;
        proxy_read_timeout 300s;
        proxy_connect_timeout 300s;
        proxy_send_timeout 300s;
        
        # Buffer settings for large POST requests
        proxy_buffering off;
        proxy_request_buffering off;
        client_body_buffer_size 128k;
        
        # Handle redirects
        proxy_redirect ~^https://benue\.lgpoa\.ng(/.*)$ /state/benue$1;
    }

    # Borno State
    location /state/borno/ {
        proxy_pass https://borno.lgpoa.ng/;
        proxy_ssl_server_name on;
        proxy_ssl_verify off;
        proxy_http_version 1.1;
        proxy_set_header Host borno.lgpoa.ng;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Forwarded-Host $host;
        proxy_cookie_domain borno.lgpoa.ng $host;
        proxy_cookie_path / /;
        proxy_redirect https://borno.lgpoa.ng/ /state/borno/;
        proxy_redirect / /state/borno/;
        proxy_read_timeout 300s;
        proxy_connect_timeout 300s;
        proxy_send_timeout 300s;
        
        # Buffer settings for large POST requests
        proxy_buffering off;
        proxy_request_buffering off;
        client_body_buffer_size 128k;
        
        # Handle redirects
        proxy_redirect ~^https://borno\.lgpoa\.ng(/.*)$ /state/borno$1;
    }

    # Cross River State
    location /state/cross-river/ {
        proxy_pass https://crossriver.lgpoa.ng/;
        proxy_ssl_server_name on;
        proxy_ssl_verify off;
        proxy_http_version 1.1;
        proxy_set_header Host crossriver.lgpoa.ng;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Forwarded-Host $host;
        proxy_cookie_domain crossriver.lgpoa.ng $host;
        proxy_cookie_path / /;
        proxy_redirect https://crossriver.lgpoa.ng/ /state/cross-river/;
        proxy_redirect / /state/cross-river/;
        proxy_read_timeout 300s;
        proxy_connect_timeout 300s;
        proxy_send_timeout 300s;
        
        # Buffer settings for large POST requests
        proxy_buffering off;
        proxy_request_buffering off;
        client_body_buffer_size 128k;
        
        # Handle redirects
        proxy_redirect ~^https://crossriver\.lgpoa\.ng(/.*)$ /state/cross-river$1;
    }

    # Delta State
    location /state/delta/ {
        proxy_pass https://delta.lgpoa.ng/;
        proxy_ssl_server_name on;
        proxy_ssl_verify off;
        proxy_http_version 1.1;
        proxy_set_header Host delta.lgpoa.ng;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Forwarded-Host $host;
        proxy_cookie_domain delta.lgpoa.ng $host;
        proxy_cookie_path / /;
        proxy_redirect https://delta.lgpoa.ng/ /state/delta/;
        proxy_redirect / /state/delta/;
        proxy_read_timeout 300s;
        proxy_connect_timeout 300s;
        proxy_send_timeout 300s;
        
        # Buffer settings for large POST requests
        proxy_buffering off;
        proxy_request_buffering off;
        client_body_buffer_size 128k;
        
        # Handle redirects
        proxy_redirect ~^https://delta\.lgpoa\.ng(/.*)$ /state/delta$1;
    }

    # Ebonyi State
    location /state/ebonyi/ {
        proxy_pass https://ebonyi.lgpoa.ng/;
        proxy_ssl_server_name on;
        proxy_ssl_verify off;
        proxy_http_version 1.1;
        proxy_set_header Host ebonyi.lgpoa.ng;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Forwarded-Host $host;
        proxy_cookie_domain ebonyi.lgpoa.ng $host;
        proxy_cookie_path / /;
        proxy_redirect https://ebonyi.lgpoa.ng/ /state/ebonyi/;
        proxy_redirect / /state/ebonyi/;
        proxy_read_timeout 300s;
        proxy_connect_timeout 300s;
        proxy_send_timeout 300s;
        
        # Buffer settings for large POST requests
        proxy_buffering off;
        proxy_request_buffering off;
        client_body_buffer_size 128k;
        
        # Handle redirects
        proxy_redirect ~^https://ebonyi\.lgpoa\.ng(/.*)$ /state/ebonyi$1;
    }

    # Edo State
    location /state/edo/ {
        proxy_pass https://edo.lgpoa.ng/;
        proxy_ssl_server_name on;
        proxy_ssl_verify off;
        proxy_http_version 1.1;
        proxy_set_header Host edo.lgpoa.ng;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Forwarded-Host $host;
        proxy_cookie_domain edo.lgpoa.ng $host;
        proxy_cookie_path / /;
        proxy_redirect https://edo.lgpoa.ng/ /state/edo/;
        proxy_redirect / /state/edo/;
        proxy_read_timeout 300s;
        proxy_connect_timeout 300s;
        proxy_send_timeout 300s;
        
        # Buffer settings for large POST requests
        proxy_buffering off;
        proxy_request_buffering off;
        client_body_buffer_size 128k;
        
        # Handle redirects
        proxy_redirect ~^https://edo\.lgpoa\.ng(/.*)$ /state/edo$1;
    }

    # Ekiti State
    location /state/ekiti/ {
        proxy_pass https://ekiti.lgpoa.ng/;
        proxy_ssl_server_name on;
        proxy_ssl_verify off;
        proxy_http_version 1.1;
        proxy_set_header Host ekiti.lgpoa.ng;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Forwarded-Host $host;
        proxy_cookie_domain ekiti.lgpoa.ng $host;
        proxy_cookie_path / /;
        proxy_redirect https://ekiti.lgpoa.ng/ /state/ekiti/;
        proxy_redirect / /state/ekiti/;
        proxy_read_timeout 300s;
        proxy_connect_timeout 300s;
        proxy_send_timeout 300s;
        
        # Buffer settings for large POST requests
        proxy_buffering off;
        proxy_request_buffering off;
        client_body_buffer_size 128k;
        
        # Handle redirects
        proxy_redirect ~^https://ekiti\.lgpoa\.ng(/.*)$ /state/ekiti$1;
    }

    # Enugu State
    location /state/enugu/ {
        proxy_pass https://enugu.lgpoa.ng/;
        proxy_ssl_server_name on;
        proxy_ssl_verify off;
        proxy_http_version 1.1;
        proxy_set_header Host enugu.lgpoa.ng;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Forwarded-Host $host;
        proxy_cookie_domain enugu.lgpoa.ng $host;
        proxy_cookie_path / /;
        proxy_redirect https://enugu.lgpoa.ng/ /state/enugu/;
        proxy_redirect / /state/enugu/;
        proxy_read_timeout 300s;
        proxy_connect_timeout 300s;
        proxy_send_timeout 300s;
        
        # Buffer settings for large POST requests
        proxy_buffering off;
        proxy_request_buffering off;
        client_body_buffer_size 128k;
        
        # Handle redirects
        proxy_redirect ~^https://enugu\.lgpoa\.ng(/.*)$ /state/enugu$1;
    }

    # FCT State
    location /state/fct/ {
        proxy_pass https://fct.lgpoa.ng/;
        proxy_ssl_server_name on;
        proxy_ssl_verify off;
        proxy_http_version 1.1;
        proxy_set_header Host fct.lgpoa.ng;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Forwarded-Host $host;
        proxy_cookie_domain fct.lgpoa.ng $host;
        proxy_cookie_path / /;
        proxy_redirect https://fct.lgpoa.ng/ /state/fct/;
        proxy_redirect / /state/fct/;
        proxy_read_timeout 300s;
        proxy_connect_timeout 300s;
        proxy_send_timeout 300s;
        
        # Buffer settings for large POST requests
        proxy_buffering off;
        proxy_request_buffering off;
        client_body_buffer_size 128k;
        
        # Handle redirects
        proxy_redirect ~^https://fct\.lgpoa\.ng(/.*)$ /state/fct$1;
    }

    # Gombe State
    location /state/gombe/ {
        proxy_pass https://gombe.lgpoa.ng/;
        proxy_ssl_server_name on;
        proxy_ssl_verify off;
        proxy_http_version 1.1;
        proxy_set_header Host gombe.lgpoa.ng;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Forwarded-Host $host;
        proxy_cookie_domain gombe.lgpoa.ng $host;
        proxy_cookie_path / /;
        proxy_redirect https://gombe.lgpoa.ng/ /state/gombe/;
        proxy_redirect / /state/gombe/;
        proxy_read_timeout 300s;
        proxy_connect_timeout 300s;
        proxy_send_timeout 300s;
        
        # Buffer settings for large POST requests
        proxy_buffering off;
        proxy_request_buffering off;
        client_body_buffer_size 128k;
        
        # Handle redirects
        proxy_redirect ~^https://gombe\.lgpoa\.ng(/.*)$ /state/gombe$1;
    }

    # Imo State
    location /state/imo/ {
        proxy_pass https://imo.lgpoa.ng/;
        proxy_ssl_server_name on;
        proxy_ssl_verify off;
        proxy_http_version 1.1;
        proxy_set_header Host imo.lgpoa.ng;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Forwarded-Host $host;
        proxy_cookie_domain imo.lgpoa.ng $host;
        proxy_cookie_path / /;
        proxy_redirect https://imo.lgpoa.ng/ /state/imo/;
        proxy_redirect / /state/imo/;
        proxy_read_timeout 300s;
        proxy_connect_timeout 300s;
        proxy_send_timeout 300s;
        
        # Buffer settings for large POST requests
        proxy_buffering off;
        proxy_request_buffering off;
        client_body_buffer_size 128k;
        
        # Handle redirects
        proxy_redirect ~^https://imo\.lgpoa\.ng(/.*)$ /state/imo$1;
    }

    # Jigawa State
    location /state/jigawa/ {
        proxy_pass https://jigawa.lgpoa.ng/;
        proxy_ssl_server_name on;
        proxy_ssl_verify off;
        proxy_http_version 1.1;
        proxy_set_header Host jigawa.lgpoa.ng;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Forwarded-Host $host;
        proxy_cookie_domain jigawa.lgpoa.ng $host;
        proxy_cookie_path / /;
        proxy_redirect https://jigawa.lgpoa.ng/ /state/jigawa/;
        proxy_redirect / /state/jigawa/;
        proxy_read_timeout 300s;
        proxy_connect_timeout 300s;
        proxy_send_timeout 300s;
        
        # Buffer settings for large POST requests
        proxy_buffering off;
        proxy_request_buffering off;
        client_body_buffer_size 128k;
        
        # Handle redirects
        proxy_redirect ~^https://jigawa\.lgpoa\.ng(/.*)$ /state/jigawa$1;
    }

    # Kaduna State
    location /state/kaduna/ {
        proxy_pass https://kaduna.lgpoa.ng/;
        proxy_ssl_server_name on;
        proxy_ssl_verify off;
        proxy_http_version 1.1;
        proxy_set_header Host kaduna.lgpoa.ng;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Forwarded-Host $host;
        proxy_cookie_domain kaduna.lgpoa.ng $host;
        proxy_cookie_path / /;
        proxy_redirect https://kaduna.lgpoa.ng/ /state/kaduna/;
        proxy_redirect / /state/kaduna/;
        proxy_read_timeout 300s;
        proxy_connect_timeout 300s;
        proxy_send_timeout 300s;
        
        # Buffer settings for large POST requests
        proxy_buffering off;
        proxy_request_buffering off;
        client_body_buffer_size 128k;
        
        # Handle redirects
        proxy_redirect ~^https://kaduna\.lgpoa\.ng(/.*)$ /state/kaduna$1;
    }

    # Kano State
    location /state/kano/ {
        proxy_pass https://kano.lgpoa.ng/;
        proxy_ssl_server_name on;
        proxy_ssl_verify off;
        proxy_http_version 1.1;
        proxy_set_header Host kano.lgpoa.ng;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Forwarded-Host $host;
        proxy_cookie_domain kano.lgpoa.ng $host;
        proxy_cookie_path / /;
        proxy_redirect https://kano.lgpoa.ng/ /state/kano/;
        proxy_redirect / /state/kano/;
        proxy_read_timeout 300s;
        proxy_connect_timeout 300s;
        proxy_send_timeout 300s;
        
        # Buffer settings for large POST requests
        proxy_buffering off;
        proxy_request_buffering off;
        client_body_buffer_size 128k;
        
        # Handle redirects
        proxy_redirect ~^https://kano\.lgpoa\.ng(/.*)$ /state/kano$1;
    }

    # Katsina State
    location /state/katsina/ {
        proxy_pass https://katsina.lgpoa.ng/;
        proxy_ssl_server_name on;
        proxy_ssl_verify off;
        proxy_http_version 1.1;
        proxy_set_header Host katsina.lgpoa.ng;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Forwarded-Host $host;
        proxy_cookie_domain katsina.lgpoa.ng $host;
        proxy_cookie_path / /;
        proxy_redirect https://katsina.lgpoa.ng/ /state/katsina/;
        proxy_redirect / /state/katsina/;
        proxy_read_timeout 300s;
        proxy_connect_timeout 300s;
        proxy_send_timeout 300s;
        
        # Buffer settings for large POST requests
        proxy_buffering off;
        proxy_request_buffering off;
        client_body_buffer_size 128k;
        
        # Handle redirects
        proxy_redirect ~^https://katsina\.lgpoa\.ng(/.*)$ /state/katsina$1;
    }

    # Kebbi State
    location /state/kebbi/ {
        proxy_pass https://kebbi.lgpoa.ng/;
        proxy_ssl_server_name on;
        proxy_ssl_verify off;
        proxy_http_version 1.1;
        proxy_set_header Host kebbi.lgpoa.ng;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Forwarded-Host $host;
        proxy_cookie_domain kebbi.lgpoa.ng $host;
        proxy_cookie_path / /;
        proxy_redirect https://kebbi.lgpoa.ng/ /state/kebbi/;
        proxy_redirect / /state/kebbi/;
        proxy_read_timeout 300s;
        proxy_connect_timeout 300s;
        proxy_send_timeout 300s;
        
        # Buffer settings for large POST requests
        proxy_buffering off;
        proxy_request_buffering off;
        client_body_buffer_size 128k;
        
        # Handle redirects
        proxy_redirect ~^https://kebbi\.lgpoa\.ng(/.*)$ /state/kebbi$1;
    }

    # Kogi State
    location /state/kogi/ {
        proxy_pass https://kogi.lgpoa.ng/;
        proxy_ssl_server_name on;
        proxy_ssl_verify off;
        proxy_http_version 1.1;
        proxy_set_header Host kogi.lgpoa.ng;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Forwarded-Host $host;
        proxy_cookie_domain kogi.lgpoa.ng $host;
        proxy_cookie_path / /;
        proxy_redirect https://kogi.lgpoa.ng/ /state/kogi/;
        proxy_redirect / /state/kogi/;
        proxy_read_timeout 300s;
        proxy_connect_timeout 300s;
        proxy_send_timeout 300s;
        
        # Buffer settings for large POST requests
        proxy_buffering off;
        proxy_request_buffering off;
        client_body_buffer_size 128k;
        
        # Handle redirects
        proxy_redirect ~^https://kogi\.lgpoa\.ng(/.*)$ /state/kogi$1;
    }

    # Kwara State
    location /state/kwara/ {
        proxy_pass https://kwara.lgpoa.ng/;
        proxy_ssl_server_name on;
        proxy_ssl_verify off;
        proxy_http_version 1.1;
        proxy_set_header Host kwara.lgpoa.ng;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Forwarded-Host $host;
        proxy_cookie_domain kwara.lgpoa.ng $host;
        proxy_cookie_path / /;
        proxy_redirect https://kwara.lgpoa.ng/ /state/kwara/;
        proxy_redirect / /state/kwara/;
        proxy_read_timeout 300s;
        proxy_connect_timeout 300s;
        proxy_send_timeout 300s;
        
        # Buffer settings for large POST requests
        proxy_buffering off;
        proxy_request_buffering off;
        client_body_buffer_size 128k;
        
        # Handle redirects
        proxy_redirect ~^https://kwara\.lgpoa\.ng(/.*)$ /state/kwara$1;
    }

    # Lagos State
    location /state/lagos/ {
        proxy_pass https://lagos.lgpoa.ng/;
        proxy_ssl_server_name on;
        proxy_ssl_verify off;
        proxy_http_version 1.1;
        proxy_set_header Host lagos.lgpoa.ng;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Forwarded-Host $host;
        proxy_cookie_domain lagos.lgpoa.ng $host;
        proxy_cookie_path / /;
        proxy_redirect https://lagos.lgpoa.ng/ /state/lagos/;
        proxy_redirect / /state/lagos/;
        proxy_read_timeout 300s;
        proxy_connect_timeout 300s;
        proxy_send_timeout 300s;
        
        # Buffer settings for large POST requests
        proxy_buffering off;
        proxy_request_buffering off;
        client_body_buffer_size 128k;
        
        # Handle redirects
        proxy_redirect ~^https://lagos\.lgpoa\.ng(/.*)$ /state/lagos$1;
    }

    # Nasarawa State
    location /state/nasarawa/ {
        proxy_pass https://nasarawa.lgpoa.ng/;
        proxy_ssl_server_name on;
        proxy_ssl_verify off;
        proxy_http_version 1.1;
        proxy_set_header Host nasarawa.lgpoa.ng;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Forwarded-Host $host;
        proxy_cookie_domain nasarawa.lgpoa.ng $host;
        proxy_cookie_path / /;
        proxy_redirect https://nasarawa.lgpoa.ng/ /state/nasarawa/;
        proxy_redirect / /state/nasarawa/;
        proxy_read_timeout 300s;
        proxy_connect_timeout 300s;
        proxy_send_timeout 300s;
        
        # Buffer settings for large POST requests
        proxy_buffering off;
        proxy_request_buffering off;
        client_body_buffer_size 128k;
        
        # Handle redirects
        proxy_redirect ~^https://nasarawa\.lgpoa\.ng(/.*)$ /state/nasarawa$1;
    }

    # Niger State
    location /state/niger/ {
        proxy_pass https://niger.lgpoa.ng/;
        proxy_ssl_server_name on;
        proxy_ssl_verify off;
        proxy_http_version 1.1;
        proxy_set_header Host niger.lgpoa.ng;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Forwarded-Host $host;
        proxy_cookie_domain niger.lgpoa.ng $host;
        proxy_cookie_path / /;
        proxy_redirect https://niger.lgpoa.ng/ /state/niger/;
        proxy_redirect / /state/niger/;
        proxy_read_timeout 300s;
        proxy_connect_timeout 300s;
        proxy_send_timeout 300s;
        
        # Buffer settings for large POST requests
        proxy_buffering off;
        proxy_request_buffering off;
        client_body_buffer_size 128k;
        
        # Handle redirects
        proxy_redirect ~^https://niger\.lgpoa\.ng(/.*)$ /state/niger$1;
    }

    # Ogun State
    location /state/ogun/ {
        proxy_pass https://ogun.lgpoa.ng/;
        proxy_ssl_server_name on;
        proxy_ssl_verify off;
        proxy_http_version 1.1;
        proxy_set_header Host ogun.lgpoa.ng;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Forwarded-Host $host;
        proxy_cookie_domain ogun.lgpoa.ng $host;
        proxy_cookie_path / /;
        proxy_redirect https://ogun.lgpoa.ng/ /state/ogun/;
        proxy_redirect / /state/ogun/;
        proxy_read_timeout 300s;
        proxy_connect_timeout 300s;
        proxy_send_timeout 300s;
        
        # Buffer settings for large POST requests
        proxy_buffering off;
        proxy_request_buffering off;
        client_body_buffer_size 128k;
        
        # Handle redirects
        proxy_redirect ~^https://ogun\.lgpoa\.ng(/.*)$ /state/ogun$1;
    }

    # Ondo State
    location /state/ondo/ {
        proxy_pass https://ondo.lgpoa.ng/;
        proxy_ssl_server_name on;
        proxy_ssl_verify off;
        proxy_http_version 1.1;
        proxy_set_header Host ondo.lgpoa.ng;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Forwarded-Host $host;
        proxy_cookie_domain ondo.lgpoa.ng $host;
        proxy_cookie_path / /;
        proxy_redirect https://ondo.lgpoa.ng/ /state/ondo/;
        proxy_redirect / /state/ondo/;
        proxy_read_timeout 300s;
        proxy_connect_timeout 300s;
        proxy_send_timeout 300s;
        
        # Buffer settings for large POST requests
        proxy_buffering off;
        proxy_request_buffering off;
        client_body_buffer_size 128k;
        
        # Handle redirects
        proxy_redirect ~^https://ondo\.lgpoa\.ng(/.*)$ /state/ondo$1;
    }

    # Osun State
    location /state/osun/ {
        proxy_pass https://osun.lgpoa.ng/;
        proxy_ssl_server_name on;
        proxy_ssl_verify off;
        proxy_http_version 1.1;
        proxy_set_header Host osun.lgpoa.ng;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Forwarded-Host $host;
        proxy_cookie_domain osun.lgpoa.ng $host;
        proxy_cookie_path / /;
        proxy_redirect https://osun.lgpoa.ng/ /state/osun/;
        proxy_redirect / /state/osun/;
        proxy_read_timeout 300s;
        proxy_connect_timeout 300s;
        proxy_send_timeout 300s;
        
        # Buffer settings for large POST requests
        proxy_buffering off;
        proxy_request_buffering off;
        client_body_buffer_size 128k;
        
        # Handle redirects
        proxy_redirect ~^https://osun\.lgpoa\.ng(/.*)$ /state/osun$1;
    }

    # Oyo State
    location /state/oyo/ {
        proxy_pass https://oyo.lgpoa.ng/;
        proxy_ssl_server_name on;
        proxy_ssl_verify off;
        proxy_http_version 1.1;
        proxy_set_header Host oyo.lgpoa.ng;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Forwarded-Host $host;
        proxy_cookie_domain oyo.lgpoa.ng $host;
        proxy_cookie_path / /;
        proxy_redirect https://oyo.lgpoa.ng/ /state/oyo/;
        proxy_redirect / /state/oyo/;
        proxy_read_timeout 300s;
        proxy_connect_timeout 300s;
        proxy_send_timeout 300s;
        
        # Buffer settings for large POST requests
        proxy_buffering off;
        proxy_request_buffering off;
        client_body_buffer_size 128k;
        
        # Handle redirects
        proxy_redirect ~^https://oyo\.lgpoa\.ng(/.*)$ /state/oyo$1;
    }

    # Plateau State
    location /state/plateau/ {
        proxy_pass https://plateau.lgpoa.ng/;
        proxy_ssl_server_name on;
        proxy_ssl_verify off;
        proxy_http_version 1.1;
        proxy_set_header Host plateau.lgpoa.ng;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Forwarded-Host $host;
        proxy_cookie_domain plateau.lgpoa.ng $host;
        proxy_cookie_path / /;
        proxy_redirect https://plateau.lgpoa.ng/ /state/plateau/;
        proxy_redirect / /state/plateau/;
        proxy_read_timeout 300s;
        proxy_connect_timeout 300s;
        proxy_send_timeout 300s;
        
        # Buffer settings for large POST requests
        proxy_buffering off;
        proxy_request_buffering off;
        client_body_buffer_size 128k;
        
        # Handle redirects
        proxy_redirect ~^https://plateau\.lgpoa\.ng(/.*)$ /state/plateau$1;
    }

    # Rivers State
    location /state/rivers/ {
        proxy_pass https://rivers.lgpoa.ng/;
        proxy_ssl_server_name on;
        proxy_ssl_verify off;
        proxy_http_version 1.1;
        proxy_set_header Host rivers.lgpoa.ng;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Forwarded-Host $host;
        proxy_cookie_domain rivers.lgpoa.ng $host;
        proxy_cookie_path / /;
        proxy_redirect https://rivers.lgpoa.ng/ /state/rivers/;
        proxy_redirect / /state/rivers/;
        proxy_read_timeout 300s;
        proxy_connect_timeout 300s;
        proxy_send_timeout 300s;
        
        # Buffer settings for large POST requests
        proxy_buffering off;
        proxy_request_buffering off;
        client_body_buffer_size 128k;
        
        # Handle redirects
        proxy_redirect ~^https://rivers\.lgpoa\.ng(/.*)$ /state/rivers$1;
    }

    # Sokoto State
    location /state/sokoto/ {
        proxy_pass https://sokoto.lgpoa.ng/;
        proxy_ssl_server_name on;
        proxy_ssl_verify off;
        proxy_http_version 1.1;
        proxy_set_header Host sokoto.lgpoa.ng;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Forwarded-Host $host;
        proxy_cookie_domain sokoto.lgpoa.ng $host;
        proxy_cookie_path / /;
        proxy_redirect https://sokoto.lgpoa.ng/ /state/sokoto/;
        proxy_redirect / /state/sokoto/;
        proxy_read_timeout 300s;
        proxy_connect_timeout 300s;
        proxy_send_timeout 300s;
        
        # Buffer settings for large POST requests
        proxy_buffering off;
        proxy_request_buffering off;
        client_body_buffer_size 128k;
        
        # Handle redirects
        proxy_redirect ~^https://sokoto\.lgpoa\.ng(/.*)$ /state/sokoto$1;
    }

    # Taraba State
    location /state/taraba/ {
        proxy_pass https://taraba.lgpoa.ng/;
        proxy_ssl_server_name on;
        proxy_ssl_verify off;
        proxy_http_version 1.1;
        proxy_set_header Host taraba.lgpoa.ng;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Forwarded-Host $host;
        proxy_cookie_domain taraba.lgpoa.ng $host;
        proxy_cookie_path / /;
        proxy_redirect https://taraba.lgpoa.ng/ /state/taraba/;
        proxy_redirect / /state/taraba/;
        proxy_read_timeout 300s;
        proxy_connect_timeout 300s;
        proxy_send_timeout 300s;
        
        # Buffer settings for large POST requests
        proxy_buffering off;
        proxy_request_buffering off;
        client_body_buffer_size 128k;
        
        # Handle redirects
        proxy_redirect ~^https://taraba\.lgpoa\.ng(/.*)$ /state/taraba$1;
    }

    # Yobe State
    location /state/yobe/ {
        proxy_pass https://yobe.lgpoa.ng/;
        proxy_ssl_server_name on;
        proxy_ssl_verify off;
        proxy_http_version 1.1;
        proxy_set_header Host yobe.lgpoa.ng;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Forwarded-Host $host;
        proxy_cookie_domain yobe.lgpoa.ng $host;
        proxy_cookie_path / /;
        proxy_redirect https://yobe.lgpoa.ng/ /state/yobe/;
        proxy_redirect / /state/yobe/;
        proxy_read_timeout 300s;
        proxy_connect_timeout 300s;
        proxy_send_timeout 300s;
        
        # Buffer settings for large POST requests
        proxy_buffering off;
        proxy_request_buffering off;
        client_body_buffer_size 128k;
        
        # Handle redirects
        proxy_redirect ~^https://yobe\.lgpoa\.ng(/.*)$ /state/yobe$1;
    }

    # Zamfara State
    location /state/zamfara/ {
        proxy_pass https://zamfara.lgpoa.ng/;
        proxy_ssl_server_name on;
        proxy_ssl_verify off;
        proxy_http_version 1.1;
        proxy_set_header Host zamfara.lgpoa.ng;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_set_header X-Forwarded-Host $host;
        proxy_cookie_domain zamfara.lgpoa.ng $host;
        proxy_cookie_path / /;
        proxy_redirect https://zamfara.lgpoa.ng/ /state/zamfara/;
        proxy_redirect / /state/zamfara/;
        proxy_read_timeout 300s;
        proxy_connect_timeout 300s;
        proxy_send_timeout 300s;
        
        # Buffer settings for large POST requests
        proxy_buffering off;
        proxy_request_buffering off;
        client_body_buffer_size 128k;
        
        # Handle redirects
        proxy_redirect ~^https://zamfara\.lgpoa\.ng(/.*)$ /state/zamfara$1;
    }
}

# HTTPS Server (Port 443) - For Production
# Uncomment and configure after obtaining SSL certificates
# Use Let's Encrypt: sudo certbot --nginx -d yourdomain.com -d www.yourdomain.com

# server {
#     listen 443 ssl http2;
#     listen [::]:443 ssl http2;
#     server_name yourdomain.com www.yourdomain.com;
#
#     # SSL certificates
#     ssl_certificate /etc/letsencrypt/live/yourdomain.com/fullchain.pem;
#     ssl_certificate_key /etc/letsencrypt/live/yourdomain.com/privkey.pem;
#     ssl_protocols TLSv1.2 TLSv1.3;
#     ssl_ciphers HIGH:!aNULL:!MD5;
#     ssl_prefer_server_ciphers on;
#     ssl_session_cache shared:SSL:10m;
#     ssl_session_timeout 10m;
#
#     # Client body size
#     client_max_body_size 100M;
#     client_body_timeout 300s;
#     client_header_timeout 300s;
#     send_timeout 300s;
#
#     # Logging
#     access_log /var/log/nginx/lgpoa_ssl_access.log;
#     error_log /var/log/nginx/lgpoa_ssl_error.log;
#
#     # Include all location blocks from HTTP server above
#     # (Copy all location blocks here)
# }
